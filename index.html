<!DOCTYPE html>
<html>

<head>
    <title>CryonPlace</title>
    <script src="js\api\coinGeckoAPI.js"></script>
    <script src="js\favorites.js"></script>
    <script>

        window.onload = async () => {

            let coins = await getCoins();
            dadosTabela(coins);
        }

        function Favoritos(coinId) {

            if(favoriteCoins.includes(coinId)){
                removeFromFavorites(coinId);
            }
            else{
                addToFavorites(coinId);
            }
        }

        function dadosTabela(coins) {

            let tabela = document.getElementById("Dados");
            let tabelaHtml = "";

            for (let coin of coins) {

                tabelaHtml += `<tr><td>${coin.market_data.market_cap_rank}</td><td>${coin.name}</td> 
                        <td>${coin.market_data.current_price.usd}</td><td>${coin.market_data.price_change_24h}
                            </td><td><button onClick="Favoritos('${coin.id}')">fav</button></td></tr>`;

            }
            tabela.innerHTML = tabelaHtml;
        }
    </script>
</head>

<body>
    <div>
        <table>
            <thead>
                <tr style="font-size: 20px;">
                    <th>Ranking</th>
                    <th>Moeda</th>
                    <th>Pre√ßo</th>
                    <th>24 Horas</th>
                </tr>
            </thead>
            <tbody id="Dados"></tbody>
        </table>
    </div>

</body>

</html>